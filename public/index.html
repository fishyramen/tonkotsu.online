<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>tonkotsu.online</title>

  <style>
    :root{
      --bg:#05070b;
      --panel:#0d1016;
      --panel2:#10141c;
      --stroke:#1a1f2a;
      --text:#e8edf3;
      --muted:#8b96a8;
      --accent:#6b8cff;
      --ok:#48d18c;
      --warn:#ff5f5f;
      --radius:14px;
      --anim: cubic-bezier(.2,.9,.2,1);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font: 13px/1.3 system-ui, sans-serif;
      overflow:hidden;
      cursor:none;
    }

    /* Star background */
    .bg{
      position:fixed; inset:0;
      background:
        radial-gradient(1px 1px at 20px 30px, #fff5, transparent),
        radial-gradient(1px 1px at 60px 80px, #fff4, transparent),
        radial-gradient(1px 1px at 120px 50px, #fff6, transparent),
        radial-gradient(1px 1px at 200px 140px, #fff3, transparent),
        radial-gradient(1px 1px at 260px 190px, #fff5, transparent);
      background-size: 300px 300px;
      animation: drift 90s linear infinite;
      opacity:.5;
    }
    @keyframes drift {
      from{ background-position:0 0; }
      to{ background-position:-300px -300px; }
    }

    .cursorDot,.cursorRing{
      position:fixed;
      pointer-events:none;
      z-index:9999;
      transform:translate(-50%,-50%);
    }
    .cursorDot{
      width:7px;height:7px;border-radius:50%;
      background:#fff;
    }
    .cursorRing{
      width:24px;height:24px;border-radius:50%;
      border:1px solid #fff5;
      transition:transform .15s var(--anim);
    }

    .shell{
      position:fixed; inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    .card{
      width:960px;
      height:720px;
      border-radius:18px;
      background:rgba(10,12,18,.85);
      backdrop-filter: blur(14px);
      box-shadow:0 20px 80px #0008;
      display:flex;
      overflow:hidden;
      position:relative;
      animation: pop .4s var(--anim);
    }
    @keyframes pop{from{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}

    .overlay,.loading{
      position:absolute; inset:0;
      background:rgba(0,0,0,.7);
      backdrop-filter: blur(6px);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:10;
      transition:opacity .3s var(--anim);
    }

    .hidden{opacity:0;pointer-events:none}

    .loginCard,.loader{
      background:var(--panel);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:22px;
      width:380px;
      display:flex;
      flex-direction:column;
      gap:14px;
      animation: pop .35s var(--anim);
    }

    .brand{font-weight:900;font-size:18px}
    .field{
      width:100%;
      background:var(--panel2);
      border:1px solid var(--stroke);
      border-radius:10px;
      padding:10px 12px;
      color:var(--text);
      outline:none;
    }
    .btn{
      background:var(--accent);
      color:#000;
      border:none;
      border-radius:10px;
      padding:10px 14px;
      font-weight:700;
      cursor:pointer;
      transition:transform .15s var(--anim),filter .15s var(--anim);
    }
    .btn:hover{transform:scale(1.04);filter:brightness(1.1)}

    .layout{flex:1;display:flex}
    .sidebar{
      width:260px;
      background:var(--panel);
      border-right:1px solid var(--stroke);
      display:flex;
      flex-direction:column;
      padding:12px;
      gap:10px;
    }
    .main{flex:1;display:flex;flex-direction:column}

    .topbar{
      height:54px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 12px;
      border-bottom:1px solid var(--stroke);
      background:var(--panel);
    }

    .pill{
      display:flex;align-items:center;gap:10px;
      background:var(--panel2);
      border:1px solid var(--stroke);
      border-radius:999px;
      padding:6px 10px;
      cursor:pointer;
    }

    .badge{
      background:#ff4d4d;
      color:#000;
      min-width:20px;
      height:20px;
      border-radius:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:11px;
      font-weight:900;
    }

    .chatBox{flex:1;padding:12px;overflow:auto}
    .msg{margin-bottom:10px;animation:fade .2s var(--anim)}
    @keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1}}

    .bubble{
      background:var(--panel2);
      border:1px solid var(--stroke);
      border-radius:12px;
      padding:8px 10px;
      max-width:75%;
    }

    .composer{
      border-top:1px solid var(--stroke);
      padding:10px;
      display:flex;
      gap:8px;
    }

    .row{
      padding:8px 10px;
      background:var(--panel2);
      border-radius:10px;
      border:1px solid var(--stroke);
      display:flex;
      justify-content:space-between;
      align-items:center;
      cursor:pointer;
      transition:background .15s var(--anim);
    }
    .row:hover{background:#151a24}

    .statusDot{width:10px;height:10px;border-radius:50%}
    .online{background:#48d18c}
    .idle{background:#ffcb4c}
    .dnd{background:#ff5f5f}
    .offline{background:#666}

  </style>
</head>

<body>
<div class="bg"></div>

<div id="cursorDot" class="cursorDot"></div>
<div id="cursorRing" class="cursorRing"></div>

<div class="shell">
  <div class="card">

    <div id="loading" class="loading hidden">
      <div class="loader">
        <div style="display:flex;align-items:center;gap:10px">
          <div class="spinner"></div>
          <div>Loading‚Ä¶</div>
        </div>
      </div>
    </div>

    <div id="loginOverlay" class="overlay">
      <div class="loginCard">
        <div class="brand">tonkotsu.online</div>
        <input id="username" class="field" placeholder="Username" />
        <div style="position:relative">
          <input id="password" class="field" type="password" placeholder="Password" />
          <button id="togglePass" style="position:absolute;right:8px;top:8px" class="btn">üëÅ</button>
        </div>
        <button id="joinBtn" class="btn">Log in / Create</button>
        <button id="guestBtn" class="btn">Guest</button>
        <div class="muted">4‚Äì20 letters/numbers only</div>
      </div>
    </div>

    <div id="app" class="layout hidden">
      <div class="sidebar">
        <div class="row" id="globalBtn">üåê Global Chat</div>
        <div class="row" id="inboxBtn">üì• Inbox <span id="inboxPing" class="badge hidden">0</span></div>
        <div id="onlineList"></div>
      </div>

      <div class="main">
        <div class="topbar">
          <div id="chatTitle">Global Chat</div>
          <div class="pill" id="mePill">Profile ‚ñæ</div>
        </div>

        <div id="chatBox" class="chatBox"></div>

        <div class="composer">
          <input id="message" class="field" placeholder="Message‚Ä¶" />
          <button id="sendBtn" class="btn">Send</button>
        </div>
      </div>
    </div>

  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/script.js"></script>
</body>
</html>
