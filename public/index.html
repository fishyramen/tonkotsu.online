<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>tonkotsu.online</title>

  <style>
    :root{
      --bg:#0b0d12;
      --bg2:#07080c;
      --panel:#0f1219;
      --panel2:#0d1016;
      --stroke:rgba(255,255,255,.08);
      --stroke2:rgba(255,255,255,.12);
      --text:#e9eef7;
      --muted:#9aa6b6;

      --online:#3bd47f;
      --idle:#ffd166;
      --dnd:#ff4d4d;
      --offline:#6d7a8f;

      --danger:#ff4d4d;
      --shadow: 0 20px 80px rgba(0,0,0,.65);
      --ease: cubic-bezier(.2,.85,.2,1);
      --fast: 140ms var(--ease);
      --med: 220ms var(--ease);
      --slow: 520ms var(--ease);

      --radius: 14px;
      --h: 36px;          /* slightly larger */
      --compact: 10px;

      --textSize: 13.5px; /* slightly larger overall */
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:
        radial-gradient(1200px 700px at 30% 15%, rgba(255,255,255,.06), transparent 55%),
        radial-gradient(900px 520px at 80% 85%, rgba(255,255,255,.04), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--text);
      font: 520 var(--textSize)/1.35 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow:hidden;
      cursor:none;
    }

    /* dotted stars background */
    .bg{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.95;
      z-index:-1;
    }
    .stars{
      position:absolute; inset:-250px;
      background-repeat:repeat;
      background-size: 280px 280px;
      opacity:.45;
      animation: drift 140s linear infinite;
      background-image:
        radial-gradient(1px 1px at 20px 24px, rgba(255,255,255,.60), transparent 55%),
        radial-gradient(1px 1px at 92px 140px, rgba(255,255,255,.52), transparent 55%),
        radial-gradient(1px 1px at 150px 90px, rgba(255,255,255,.60), transparent 55%),
        radial-gradient(1px 1px at 214px 230px, rgba(255,255,255,.55), transparent 55%),
        radial-gradient(1px 1px at 250px 40px, rgba(255,255,255,.70), transparent 55%);
    }
    @keyframes drift{ to{ transform: translate3d(-280px,-280px,0);} }

    /* cursor */
    #cursor,#cursor2{
      position:fixed; top:0; left:0;
      pointer-events:none;
      z-index:9999;
      transform: translate(-50%,-50%);
      opacity:0;
      transition: opacity var(--med);
      mix-blend-mode: screen;
    }
    #cursor{
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,255,255,.9);
      box-shadow: 0 0 0 8px rgba(255,255,255,.06), 0 0 24px rgba(255,255,255,.14);
      transition: width var(--fast), height var(--fast), opacity var(--med);
    }
    #cursor2{
      width:28px; height:28px; border-radius:999px;
      border:1px solid rgba(255,255,255,.20);
      background: rgba(255,255,255,.02);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      transition: width var(--med), height var(--med), opacity var(--med), border-color var(--fast);
    }
    .cursorPress #cursor{ width:8px; height:8px; }
    .cursorPress #cursor2{ width:22px; height:22px; }
    .cursorHover #cursor2{ width:36px; height:36px; border-color: rgba(255,255,255,.28); }
    .cursorText  #cursor2{ width:44px; height:44px; border-color: rgba(255,255,255,.25); }

    /* app frame */
    .shell{
      position:fixed; inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 16px;
    }
    .frame{
      width:min(1120px, 100%);
      height:min(760px, 100%);
      border-radius: 16px;
      border:1px solid var(--stroke);
      background: rgba(12,14,20,.82);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      animation: frameIn var(--slow) both;
      position:relative;
    }
    @keyframes frameIn{
      from{ opacity:0; transform: translateY(10px) scale(.99); filter: blur(2px); }
      to  { opacity:1; transform: translateY(0) scale(1); filter: blur(0); }
    }

    /* fullscreen loading overlay (bigger + nicer) */
    .loading{
      position:absolute; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.78);
      backdrop-filter: blur(14px);
      z-index: 80;
      opacity:0;
      transition: opacity var(--med);
    }
    .loading.show{ display:flex; opacity:1; }

    .loader{
      width:min(520px, 94vw);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      background:
        radial-gradient(900px 240px at 50% 0%, rgba(255,255,255,.06), transparent 65%),
        rgba(10,12,18,.96);
      padding: 16px;
      box-shadow: 0 18px 80px rgba(0,0,0,.62);
      display:flex;
      flex-direction:column;
      gap: 12px;
      animation: pop var(--med) both;
      position:relative;
      overflow:hidden;
    }
    @keyframes pop{
      from{ opacity:0; transform: translateY(10px); filter: blur(1px); }
      to  { opacity:1; transform: translateY(0); filter: blur(0); }
    }
    .loadTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    .loadTitle{
      font-weight: 950;
      font-size: 13.5px;
      letter-spacing:.2px;
    }
    .spin{
      width:18px; height:18px;
      border-radius: 999px;
      border:2px solid rgba(255,255,255,.16);
      border-top-color: rgba(255,255,255,.78);
      animation: spin 650ms linear infinite;
      flex:0 0 auto;
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }

    /* faux progress bar (script drives width) */
    .loadBar{
      height: 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      overflow:hidden;
    }
    .loadBar > div{
      height:100%;
      width: 22%;
      background: rgba(255,255,255,.18);
      border-radius: 999px;
      transition: width var(--slow);
    }
    .muted{ color:var(--muted); }
    .tiny{ font-size:11.5px; } /* slightly larger */

    /* layout */
    .layout{ flex:1; min-height:0; display:flex; }
    .colLeft{
      width: 292px;
      min-width: 268px;
      background: rgba(0,0,0,.20);
      border-right: 1px solid var(--stroke);
      display:flex;
      flex-direction:column;
      min-height:0;
    }
    .colMain{
      flex:1;
      min-width:0;
      display:flex;
      flex-direction:column;
      min-height:0;
      background: rgba(0,0,0,.10);
    }

    /* left header */
    .leftHeader{
      height: 50px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 10px;
      border-bottom:1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      gap: 10px;
    }
    .brand{
      font-weight: 950;
      letter-spacing:.2px;
      font-size: 13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 170px;
    }
    .leftHeaderRight{ display:flex; gap:8px; align-items:center; }

    /* buttons / fields */
    .btn{
      height: var(--h);
      padding: 0 12px;
      border-radius: 12px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.04);
      color:var(--text);
      cursor:pointer;
      user-select:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-weight: 950;
      transition: transform var(--fast), background var(--fast), border-color var(--fast), box-shadow var(--fast), filter var(--fast);
      outline:none;
      position:relative;
      overflow:hidden;
      line-height: 1;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.06); box-shadow: 0 12px 34px rgba(0,0,0,.35); }
    .btn:active{ transform: translateY(0) scale(.99); }
    .btn.primary{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.18); }
    .btn.ghost{ background: transparent; border-color: rgba(255,255,255,.10); }
    .btn.small{ height: 32px; border-radius: 12px; font-size: 12.5px; padding:0 10px; }

    .iconBtn{
      width: 36px;
      height: 36px;
      padding: 0;
      border-radius: 13px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-weight: 950;
    }

    /* prettier inbox button */
    .inboxBtn{
      border-color: rgba(255,255,255,.16);
      background:
        radial-gradient(120px 46px at 30% 0%, rgba(255,255,255,.10), transparent 60%),
        rgba(255,255,255,.04);
      box-shadow: 0 10px 34px rgba(0,0,0,.30);
    }
    .inboxBtn:hover{
      background:
        radial-gradient(140px 52px at 30% 0%, rgba(255,255,255,.14), transparent 60%),
        rgba(255,255,255,.06);
    }

    .field{
      height: var(--h);
      width:100%;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color:var(--text);
      padding: 0 12px;
      outline:none;
      transition: border-color var(--fast), background var(--fast), transform var(--fast);
      font-size: 13.5px;
    }
    .field:focus{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.04); transform: translateY(-1px); }

    /* scroll */
    .scroll{ overflow:auto; min-height:0; }
    .scroll::-webkit-scrollbar{ width: 10px; }
    .scroll::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,.08);
      border-radius: 99px;
      border: 3px solid transparent;
      background-clip: content-box;
    }

    /* channel list */
    .channels{
      padding: 10px;
      display:flex;
      flex-direction:column;
      gap: 8px;
      min-height:0;
    }
    .sectionTitle{
      font-size: 11.5px;
      letter-spacing: .2px;
      color: rgba(255,255,255,.55);
      font-weight: 950;
      padding: 10px 6px 4px 6px;
      text-transform: uppercase;
    }
    .item{
      height: 40px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.07);
      background: rgba(255,255,255,.02);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 10px;
      gap: 10px;
      cursor:pointer;
      user-select:none;
      transition: transform var(--fast), background var(--fast), border-color var(--fast), box-shadow var(--fast);
      position:relative;
      overflow:hidden;
    }
    .item:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.03);
      border-color: rgba(255,255,255,.10);
      box-shadow: 0 12px 34px rgba(0,0,0,.35);
    }
    .item.active{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.14);
    }
    .left{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width:0;
    }
    .hash{
      width: 24px;
      height: 24px;
      border-radius: 9px;
      background: rgba(255,255,255,.06);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 950;
      color: rgba(255,255,255,.85);
      flex:0 0 auto;
      font-size: 13px;
    }
    .name{ font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size: 13px; }
    .sub{ font-size: 11.5px; color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin-top:2px; }
    .nameCol{ min-width:0; display:flex; flex-direction:column; }

    /* badges */
    .badge{
      min-width: 22px;
      height: 18px;
      padding: 0 6px;
      border-radius: 7px;
      background: var(--danger);
      color:#0b0d10;
      font-weight: 950;
      font-size: 11px;
      display:none;
      align-items:center;
      justify-content:center;
      line-height:18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.30);
      animation: pop2 var(--med) both;
    }
    .badge.show{ display:flex; }
    @keyframes pop2{ from{ opacity:0; transform:scale(.86);} to{ opacity:1; transform:scale(1);} }

    /* online list */
    .onlineWrap{
      border-top:1px solid var(--stroke);
      padding: 10px;
      display:flex;
      flex-direction:column;
      gap: 8px;
      min-height: 0;
      max-height: 180px;
    }
    .onlineRow{
      height: 36px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(255,255,255,.02);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 10px;
      cursor:pointer;
      user-select:none;
      transition: transform var(--fast), background var(--fast), border-color var(--fast), box-shadow var(--fast);
      gap: 10px;
    }
    .onlineRow:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.03);
      border-color: rgba(255,255,255,.10);
      box-shadow: 0 12px 34px rgba(0,0,0,.30);
    }
    .dot{
      width:10px; height:10px;
      border-radius: 99px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.18);
      flex:0 0 auto;
    }
    .dot.online{ background: var(--online); box-shadow: 0 0 0 3px rgba(59,212,127,.12); }
    .dot.idle{ background: var(--idle); box-shadow: 0 0 0 3px rgba(255,209,102,.12); }
    .dot.dnd{ background: var(--dnd); box-shadow: 0 0 0 3px rgba(255,77,77,.12); }
    .dot.offline{ background: var(--offline); box-shadow: 0 0 0 3px rgba(109,122,143,.12); }

    /* main header */
    .topbar{
      height: 52px;
      border-bottom:1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 12px;
      gap: 12px;
    }
    .topic{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .topicTopRow{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .topicTitle{
      font-weight: 950;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      font-size: 14px; /* a bit bigger */
    }
    .topicTitle.clickable{ cursor:pointer; }
    .topicTitle.clickable:hover{ transform: translateY(-1px); transition: transform var(--fast); }
    .topicSub{
      font-size:11.5px;
      color:var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* manage button (appears next to group title; script toggles visibility) */
    .manageBtn{
      height: 30px;
      border-radius: 11px;
      padding: 0 10px;
      font-size: 12.5px;
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.16);
      display:none;
      align-items:center;
      justify-content:center;
      gap:8px;
      white-space:nowrap;
    }
    .manageBtn.show{ display:inline-flex; }

    /* account pill */
    .rightTop{
      display:flex;
      align-items:center;
      gap: 10px;
      flex: 0 0 auto;
    }
    .mePill{
      height: 36px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding: 0 10px;
      display:none;
      align-items:center;
      gap: 10px;
      cursor:pointer;
      user-select:none;
      transition: transform var(--fast), background var(--fast), border-color var(--fast), box-shadow var(--fast);
      max-width: 320px;
    }
    .mePill:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.05);
      box-shadow: 0 12px 34px rgba(0,0,0,.35);
    }
    .meName{
      font-weight: 950;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 210px;
      font-size: 13px;
    }
    .caret{ opacity:.8; font-weight: 950; }

    .inboxBtnWrap{
      position:relative;
      display:none;
    }
    .inboxBadgeMini{
      position:absolute;
      top:-6px; right:-6px;
      min-width:18px;
      height:18px;
      border-radius:9px;
      background: var(--danger);
      color:#0b0d10;
      font-weight: 950;
      font-size: 11px;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 0 6px;
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
    }
    .inboxBadgeMini.show{ display:flex; }

    /* chat area */
    .chat{ flex:1; min-height:0; padding: 12px; overflow:auto; }
    .msg{ margin-bottom: 10px; display:flex; }
    .bubble{
      max-width: 76%;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.07);
      background: rgba(255,255,255,.02);
      padding: 10px 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      transition: transform var(--fast), background var(--fast), border-color var(--fast), box-shadow var(--fast);
      animation: msgIn var(--med) both;
    }
    @keyframes msgIn{
      from{ opacity:0; transform: translateY(8px); filter: blur(1px); }
      to{ opacity:1; transform: translateY(0); filter: blur(0); }
    }
    .bubble:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.03);
      border-color: rgba(255,255,255,.10);
      box-shadow: 0 14px 42px rgba(0,0,0,.35);
    }
    .meta{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 6px;
    }
    .user{ font-weight: 950; cursor:pointer; user-select:none; transition: transform var(--fast); font-size: 13px; }
    .user:hover{ transform: translateY(-1px); }
    .time{ font-size:11.5px; color:var(--muted); flex:0 0 auto; }
    .text{ white-space: pre-wrap; word-break: break-word; font-size: 13.5px; }
    .mention{ color: var(--danger); font-weight: 950; }

    /* composer */
    .composer{
      border-top:1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      padding: 10px 12px 12px 12px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .row{ display:flex; gap: 10px; align-items:stretch; }
    .row .field{ flex:1; }
    .row .btn{ width: 132px; } /* more consistent */
    .hintRow{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* cooldown bar (script controls) */
    .cooldownWrap{
      width: 220px;
      height: 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      overflow:hidden;
      flex:0 0 auto;
    }
    .cooldownFill{
      height:100%;
      width:0%;
      background: rgba(255,255,255,.22);
      transition: width var(--fast);
    }
    .cooldownWrap.shake{
      animation: shake 420ms var(--ease) both;
      border-color: rgba(255,77,77,.35);
      box-shadow: 0 0 0 3px rgba(255,77,77,.08);
    }
    .cooldownWrap.shake .cooldownFill{
      background: rgba(255,77,77,.28);
    }
    @keyframes shake{
      0%{ transform: translateX(0); }
      20%{ transform: translateX(-4px); }
      40%{ transform: translateX(4px); }
      60%{ transform: translateX(-3px); }
      80%{ transform: translateX(3px); }
      100%{ transform: translateX(0); }
    }

    /* footer */
    .footer{
      height: 40px;
      border-top: 1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 12px;
      font-size: 11.5px;
      color: rgba(255,255,255,.62);
    }
    .footer a{ color: rgba(255,255,255,.74); text-decoration:none; }
    .footer a:hover{ text-decoration:underline; }

    /* login overlay */
    .loginOverlay{
      position:absolute; inset:0;
      z-index: 60;
      background: rgba(0,0,0,.92);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 16px;
      opacity:1;
      transition: opacity var(--med);
    }
    .loginOverlay.hidden{ opacity:0; pointer-events:none; }
    .loginBox{
      width:min(430px, 92vw);
      border:1px solid var(--stroke);
      border-radius: 16px;
      background: rgba(12,14,20,.92);
      box-shadow: 0 18px 70px rgba(0,0,0,.60);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
      animation: pop var(--med) both;
      position:relative;
      overflow:hidden;
    }
    .loginStars{
      position:absolute; inset:-220px;
      background-repeat:repeat;
      background-size: 260px 260px;
      opacity:.55;
      animation: drift2 160s linear infinite;
      background-image:
        radial-gradient(1px 1px at 22px 28px, rgba(255,255,255,.60), transparent 55%),
        radial-gradient(1px 1px at 68px 160px, rgba(255,255,255,.52), transparent 55%),
        radial-gradient(1px 1px at 140px 86px, rgba(255,255,255,.60), transparent 55%),
        radial-gradient(1px 1px at 200px 220px, rgba(255,255,255,.55), transparent 55%),
        radial-gradient(1px 1px at 242px 44px, rgba(255,255,255,.70), transparent 55%);
    }
    @keyframes drift2{ to{ transform: translate3d(-260px,-260px,0);} }
    .loginInner{ position:relative; z-index:1; display:flex; flex-direction:column; gap: 12px; }
    .loginTitle{ font-weight: 950; font-size: 14.5px; letter-spacing:.2px; }
    .loginHint{ color: var(--muted); font-size: 11.5px; line-height:1.45; }

    /* password eye */
    .pwWrap{ position:relative; }
    .field.pw{ padding-right: 54px; }
    .eye{
      position:absolute;
      right: 8px;
      top:50%;
      transform: translateY(-50%);
      height: 30px;
      width: 46px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      user-select:none;
      transition: transform var(--fast), background var(--fast);
    }
    .eye:hover{ transform: translateY(-50%) translateY(-1px); background: rgba(255,255,255,.05); }

    /* modal */
    .modalBack{
      position:fixed; inset:0;
      z-index: 90;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 16px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(10px);
      opacity:0;
      transition: opacity var(--med);
    }
    .modalBack.show{ display:flex; opacity:1; }
    .modal{
      width:min(760px, 96vw);
      max-height: min(78vh, 760px);
      overflow:auto;
      border-radius: 16px;
      border:1px solid var(--stroke);
      background: rgba(12,14,20,.94);
      box-shadow: 0 18px 70px rgba(0,0,0,.60);
      padding: 12px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      animation: pop var(--med) both;
    }
    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      position:sticky;
      top:0;
      background: rgba(12,14,20,.94);
      padding-bottom: 8px;
      z-index: 2;
    }
    .modalTitle{ font-weight: 950; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size: 14px; }

    /* ripple */
    .ripple{
      position:absolute;
      width: 12px; height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.18);
      transform: translate(-50%,-50%);
      pointer-events:none;
      animation: ripple 520ms var(--ease) both;
    }
    @keyframes ripple{
      from{ opacity:.6; transform: translate(-50%,-50%) scale(1); }
      to{ opacity:0; transform: translate(-50%,-50%) scale(22); }
    }

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; }
      body{ cursor:auto; }
      #cursor,#cursor2{ display:none; }
    }

    /* Mobile UX Mode (CSS hooks; script toggles [data-mobile="1"]) */
    @media (max-width: 860px){
      .shell{ padding: 0; }
      .frame{
        width: 100%;
        height: 100%;
        border-radius: 0;
      }
      body[data-mobile="1"] .colLeft{
        position:absolute;
        left:0; top:0; bottom:0;
        width: min(320px, 88vw);
        transform: translateX(-102%);
        transition: transform var(--med);
        z-index: 40;
        box-shadow: 0 18px 70px rgba(0,0,0,.65);
      }
      body[data-mobile="1"].sidebarOpen .colLeft{
        transform: translateX(0);
      }
      body[data-mobile="1"] .colMain{
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"><div class="stars"></div></div>

  <div id="cursor"></div>
  <div id="cursor2"></div>

  <div class="shell">
    <div class="frame" id="frame">

      <!-- BIG LOADING OVERLAY (used for login transition + view switches) -->
      <div class="loading" id="loading" aria-live="polite" aria-busy="true">
        <div class="loader">
          <div class="loadTop">
            <div style="display:flex;align-items:center;gap:10px;min-width:0">
              <div class="spin" aria-hidden="true"></div>
              <div class="loadTitle" id="loaderTitle">Loading</div>
            </div>
            <div class="tiny muted" id="loaderPct">‚Äî</div>
          </div>
          <div class="loadBar" aria-hidden="true"><div id="loaderBar"></div></div>
          <div class="muted tiny" id="loaderSub">syncing‚Ä¶</div>
        </div>
      </div>

      <div class="loginOverlay" id="loginOverlay">
        <div class="loginBox">
          <div class="loginStars" aria-hidden="true"></div>
          <div class="loginInner">
            <div class="loginTitle">tonkotsu.online</div>

            <div>
              <div class="muted tiny" style="margin-bottom:6px">Username (letters/numbers only, 4‚Äì20)</div>
              <input class="field" id="username" placeholder="yourname" autocomplete="username"/>
            </div>

            <div>
              <div class="muted tiny" style="margin-bottom:6px">Password (letters/numbers only, 4‚Äì32)</div>
              <div class="pwWrap">
                <input class="field pw" id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password"/>
                <div class="eye" id="togglePass" title="Show/Hide">üëÅ</div>
              </div>
            </div>

            <div style="display:flex;gap:10px;align-items:stretch">
              <button class="btn primary" id="joinBtn" style="flex:1">Log in / Create</button>
              <button class="btn" id="guestBtn" style="flex:1">Guest</button>
            </div>

            <div class="loginHint">
              Your session stays saved. If you close the tab and reopen, it resumes automatically.
            </div>
          </div>
        </div>
      </div>

      <div class="layout" id="app">
        <div class="colLeft">
          <div class="leftHeader">
            <div class="brand">tonkotsu.online</div>
            <div class="leftHeaderRight">
              <button class="btn small ghost" id="discoverGroupsBtn" title="Discover groups">üîé</button>
              <button class="btn small ghost" id="createGroupBtn" title="Create group">+</button>
            </div>
          </div>

          <div class="channels scroll" style="flex:1">
            <div class="sectionTitle">Messages</div>
            <div id="channelList" style="display:flex;flex-direction:column;gap:8px"></div>

            <div class="sectionTitle" style="margin-top:6px">Online</div>
            <div class="onlineWrap scroll" id="onlineList"></div>
          </div>
        </div>

        <div class="colMain">
          <div class="topbar">
            <div class="topic" style="flex:1;min-width:0">
              <div class="topicTopRow">
                <div class="topicTitle" id="topicTitle"># global</div>
                <button class="btn small manageBtn" id="manageBtn" title="Manage this group">Manage</button>
              </div>
              <div class="topicSub" id="topicSub">everyone</div>
            </div>

            <div class="rightTop">
              <div class="inboxBtnWrap" id="inboxBtnWrap">
                <button class="btn iconBtn inboxBtn" id="inboxBtn" title="Inbox">
                  <span aria-hidden="true">‚úâ</span>
                </button>
                <div class="inboxBadgeMini" id="inboxBadgeMini">0</div>
              </div>

              <div class="mePill" id="mePill" title="Account menu">
                <div class="dot online" id="meDot"></div>
                <div class="meName" id="meName">You</div>
                <div class="caret">‚ñæ</div>
              </div>
            </div>
          </div>

          <div class="chat scroll" id="chat"></div>

          <div class="composer">
            <div class="row">
              <input class="field" id="message" placeholder="Message‚Ä¶ (@user to mention)"/>
              <button class="btn primary" id="sendBtn">Send</button>
            </div>

            <!-- bottom row: ONLY cooldown bar (no status text on right) -->
            <div class="hintRow">
              <div class="muted tiny" id="hintLeft">Cooldown: ‚Äî</div>
              <div class="cooldownWrap" id="cooldownWrap" title="Cooldown">
                <div class="cooldownFill" id="cooldownFill"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        <div style="display:flex;gap:12px;align-items:center">
          <a href="https://ko-fi.com/fishy_x1" target="_blank" rel="noreferrer">Ko-fi</a>
          <span style="opacity:.45">‚Ä¢</span>
          <a href="https://github.com/fishyramen" target="_blank" rel="noreferrer">GitHub</a>
        </div>
        <div>¬© <span id="year"></span> All rights reserved</div>
      </div>
    </div>
  </div>

  <div class="modalBack" id="modalBack">
    <div class="modal">
      <div class="modalTop">
        <div class="modalTitle" id="modalTitle">Modal</div>
        <button class="btn small" id="modalClose">Close</button>
      </div>
      <div id="modalBody"></div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/script.js"></script>
</body>
</html>
